DIR_JUNK='../junk'
DIR_PROFILE='../profile'
DIR_OUT='../results'
DIR_DATA="../fasta"
echo "CHECK IF ALL THE FILES OF THE PREDICTORS ARE IN THE FOLDER RESULTS"


check_predicition_sherloc2="$(ls ../results/prediction/*lc2.res | grep -c ".lc2.res" | awk '{print $1}')"

check_predicition_loctree2="$(ls ../results/prediction/*lc2.res | grep -c ".lc2.res" | awk '{print $1}')"

check_predicition_multiloc2="$(ls ../results/prediction/*m2.res | grep -c ".m2.res" | awk '{print $1}')"


count=$(find ../fasta -maxdepth 1 -name '*.fasta' | wc -l)

echo $count
echo $check_predicition_sherloc2
echo $check_predicition_loctree2
echo $check_predicition_multiloc2

check_difference_sherloc2="$(($check_predicition_sherloc2-$count))"
check_difference_loctree2="$(($check_predicition_loctree2-$count))"
check_difference_multiloc2="$(($check_predicition_multiloc2-$count))"

zero=0

if (("$count" > 1));then
	if [ "$check_difference_sherloc2" == "$zero" ] && [ "$check_difference_loctree2" == "$zero" ] && [ "$check_difference_multiloc2" == "$zero" ];then
		echo "The files of SherLoc2, LocTree2 and MultiLoc2 are here and we predicted all the sequences, so continue"
	elif [ "grep -c '.s2.res'" != "$zero" ] || [ "grep -c '.lc2.res'" == "$zero" ] || [ "grep -c '.m2.res'" == "$zero" ]; then
		echo "Problem"
		foo=()
		for mfile in $DIR_DATA/*
		do
			filename=`basename "$mfile"`
			fname=$(echo $filename | cut -d'.' -f 1)
			myarray=$(find ../results/prediction/ -maxdepth 1 -name $fname* | cut -d'/' -f 4 | cut -d'.' -f 1 |wc -l)
			#if [ "grep -c '$fname.s2.res'" != "$myarray"  ] || [ "grep -c '.lc2.res'" != "$myarray"  ] || [ "grep -c '.m2.res'" != "$myarray"  ];then
			echo "grep -c '$fname.s2.res'"
			#fi
		done
		#fname=$(echo $check_predicition_sherloc2 | cut -d'.' -f 1)
		#echo  $fname
		#for mfile in $DIR_DATA/*
		#do
		#	filename=`basename "$mfile"`
		#	fname=$(echo $filename | cut -d'.' -f 1)
		#	cp $DIR_OUT/$fname'*.fasta' | wc -l)			
		#done
		
	fi
fi

#then 
#elif [ "$check_difference_sherloc2" == "$zero" ] && [ "$check_difference_loctree2" == "$zero" ] && [ "$check_difference_multiloc2" == "$zero" ] 
#then
#	echo "The files of SherLoc2, LocTree2 and MultiLoc2 are here, so continue"
#elif [ "$check_difference_sherloc2" != "$zero" ] || [ "$check_difference_loctree2" == "$zero" ] || [ "$check_difference_multiloc2" == "$zero" ]
#then
#	echo "No, the files of SherLoc2, LocTree2 and MultiLoc2 are not here,  so I am killing the process"
#	exit 1
#fi
