## Import required modules
import sys,re
import glob
import subprocess, multiprocessing
import os
import commands
import itertools
import collections
import numpy as np
import pandas as pd
import time

def psiblast():
	cmd = "blastpgp -F F -a 8 -j 3 -b 3000 -e 1 -h 1e-3 -d database/formatdb/Uniref90.fasta -i P04439.fasta -o P04439.blastPsiOutTmp -C P04439.chk -Q P04439.profile"
	os.system(cmd)



output = commands.getoutput('pgrep blastpgp >/dev/null 2>&1')
try:	
	print 'Running BLAST...'
	psiblast()
	
try:
	print 'Running Prediction...'
	if 'blastpgp' not in output:
		cmd_loctree2 = "loctree2 --fasta prova.fasta --blastmat prova.profile --resfile euk_output.lc2 --domain euka"
		os.system(cmd_loctree2)
